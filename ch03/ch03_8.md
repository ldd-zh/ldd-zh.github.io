# 使用新设备

一旦你配备了上述四种方法，驱动就可以编译和测试；它保留你写入的任何数据，直到你用新数据覆盖它。设备的行为类似于数据缓冲区，其长度仅受实际可用 RAM 的限制。你可以尝试使用 cp、dd 和输入/输出重定向来测试驱动。

free 命令可用于查看可用内存量如何根据写入 scull 的数据量缩小和扩展。

为了更自信地一次读取和写入一个量子，你可以在驱动中的适当位置添加一个 printk，并观察应用程序读取或写入大块数据时发生的情况。或者，使用 strace 实用程序监视程序发出的系统调用及其返回值。跟踪 cp 或 ls -l > /dev/scull0 显示量子化的读取和写入。监视（和调试）技术在第4章中详细介绍。
