# 版本编号

在深入编程之前，我们应该评论一下Linux中使用的版本编号方案以及本书涵盖的版本。

首先，请注意，Linux系统中使用的每个软件包都有自己的发布号，并且它们之间通常存在相互依赖关系：你需要特定版本的软件包才能运行另一个特定版本的软件包。Linux发行版的创建者通常处理匹配软件包的混乱问题，从预打包发行版安装的用户不需要处理版本号。另一方面，那些替换和升级系统软件的人在这方面只能靠自己。幸运的是，几乎所有现代发行版都支持通过检查软件包之间的依赖关系来升级单个软件包；发行版的软件包管理器通常不允许升级，直到满足依赖关系。

要运行我们在讨论中介绍的示例，你不需要任何工具的特定版本，除了2.6内核所需的版本；任何最近的Linux发行版都可以用来运行我们的示例。我们不会详细说明具体要求，因为如果你遇到任何问题，内核源代码中的Documentation/Changes文件是此类信息的最佳来源。

就内核而言，偶数版本的内核（即2.6.x）是用于一般分发的稳定版本。相反，奇数版本（如2.7.x）是开发快照，非常短暂；最新的版本代表了开发的当前状态，但在几天内就会过时。

本书涵盖2.6版本的内核。我们的重点是展示2.6.10中设备驱动程序编写者可用的所有功能，这是我们写作时的当前版本。本书的这一版不涵盖内核的早期版本。对于那些感兴趣的人，第二版详细涵盖了2.0到2.4版本。该版仍然可以在[http://lwn.net/Kernel/LDD2/](http://lwn.net/Kernel/LDD2/)在线获取。

内核程序员应该意识到，2.6的开发过程发生了变化。2.6系列现在接受以前被认为对“稳定”内核来说太大的更改。除其他外，这意味着内部内核编程接口可能会发生变化，从而使本书的部分内容过时；出于这个原因，随文本附带的示例代码已知适用于2.6.10，但某些模块在早期版本下无法编译。希望跟上内核编程变化的程序员被鼓励加入邮件列表并利用书目中列出的网站。还有一个网页维护在[http://lwn.net/Articles/2.6-kernel-api/](http://lwn.net/Articles/2.6-kernel-api/)，其中包含自本书出版以来发生的API更改的信息。

本书不专门讨论奇数版本的内核。普通用户没有理由运行开发内核。然而，实验新功能的开发人员希望运行最新的开发版本。他们通常会不断升级到最新版本以获取错误修复和新功能的实现。请注意，实验内核没有任何保证，如果由于非当前奇数版本内核中的错误而出现问题，没有人会帮助你。运行奇数版本内核的人通常足够熟练，可以在不需要教科书的情况下深入研究代码，这是我们不在这里讨论开发内核的另一个原因。

Linux的另一个特点是它是一个平台独立的操作系统，而不仅仅是“PC克隆的Unix克隆”：它目前支持大约20种架构。本书尽可能平台独立，所有代码示例至少在x86和x86-64平台上进行了测试。由于代码已经在32位和64位处理器上进行了测试，它应该可以在所有其他平台上编译和运行。正如你所料，依赖特定硬件的代码示例并不适用于所有支持的平台，但这总是在源代码中说明。
